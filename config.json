{
  "input": {
    "supported_formats": ["jpg", "jpeg", "png", "bmp", "tiff", "tif"],
    "max_image_size": [2048, 2048],
    "preprocessing": {
      "enhance_contrast": true,
      "sharpen_image": true,
      "convert_to_grayscale": true
    }
  },
  "image": {
    "gaussian_blur_kernel": 5,
    "bilateral_filter_d": 9,
    "bilateral_filter_sigma_color": 75,
    "bilateral_filter_sigma_space": 75
  },
  "output": {
    "save_intermediate": true,
    "create_visualizations": true,
    "generate_report": true
  },
  "stroke_detection": {
    "method": "adaptive",
    "threshold": 0.5,
    "min_stroke_length": 10,
    "max_stroke_width": 50,
    "edge_detection_method": "canny",
    "canny_low_threshold": 50,
    "canny_high_threshold": 150,
    "morphology_kernel_size": 3,
    "morphology_operations": true,
    "skeleton_method": "zhang_suen",
    "contour_approximation_epsilon": 0.02
  },
  "stroke_database": {
    "database_path": "data/stroke_database.db",
    "similarity_threshold": 0.8,
    "max_matches": 5,
    "feature_extraction_method": "combined",
    "max_templates_per_category": 1000,
    "feature_dimensions": 128
  },
  "stroke_classification": {
    "method": "hybrid",
    "model_path": "models/stroke_classifier.pkl",
    "scaler_path": "models/feature_scaler.pkl",
    "confidence_threshold": 0.7,
    "classes": ["horizontal", "vertical", "left_falling", "right_falling", "dot", "hook", "turn", "complex"],
    "feature_weights": {
      "geometric": 0.4,
      "directional": 0.3,
      "texture": 0.2,
      "dynamic": 0.1
    }
  },
  "stroke_matching": {
    "geometric_weight": 0.4,
    "texture_weight": 0.3,
    "dynamic_weight": 0.3,
    "similarity_threshold": 0.7,
    "max_candidates": 50,
    "skeleton_weight": 0.6,
    "contour_weight": 0.4,
    "width_weight": 0.4,
    "pressure_weight": 0.3,
    "velocity_weight": 0.3
  },
  "stroke_ordering": {
    "method": "hybrid",
    "use_traditional_rules": true,
    "optimization_iterations": 100,
    "weight_spatial": 0.4,
    "weight_semantic": 0.3,
    "weight_aesthetic": 0.3,
    "grouping_method": "hierarchical",
    "max_groups": 20,
    "min_group_size": 1,
    "distance_threshold": 50,
    "ordering_method": "hybrid",
    "spatial_weight": 0.4,
    "semantic_weight": 0.3,
    "temporal_weight": 0.3,
    "use_optimization": true,
    "optimization_method": "evolution",
    "population_size": 50,
    "mutation_rate": 0.1,
    "crossover_rate": 0.8,
    "convergence_threshold": 1e-6,
    "rule_strictness": 0.8,
    "spatial_tolerance": 20,
    "fitness_weights": {
      "spatial_continuity": 0.3,
      "stroke_direction": 0.2,
      "semantic_order": 0.2,
      "temporal_flow": 0.15,
      "aesthetic_appeal": 0.15
    }
  },
  "animation": {
    "duration": 30.0,
    "fps": 30,
    "resolution": [1920, 1080],
    "canvas_size": [800, 600],
    "background_color": [255, 255, 255],
    "brush_simulation": true,
    "smooth_transitions": true,
    "show_brush_trail": true,
    "default_brush_size": 5,
    "min_brush_size": 1,
    "max_brush_size": 20,
    "stroke_duration_base": 2.0,
    "pause_between_strokes": 0.5,
    "speed_variation": 0.3,
    "pressure_sensitivity": 0.8,
    "ink_flow_rate": 0.7,
    "brush_elasticity": 0.5,
    "trajectory_smoothness": 0.1,
    "curve_resolution": 100,
    "enable_brush_texture": true,
    "enable_ink_diffusion": true,
    "enable_paper_texture": false
  },
  "rendering": {
    "output_format": "mp4",
    "quality": "high",
    "compression": "h264",
    "codec": "h264",
    "format": "mp4",
    "resolution": [1920, 1080],
    "fps": 30,
    "show_progress": true,
    "generate_thumbnail": true,
    "export_frames": false,
    "show_brush": true,
    "show_trajectory": false,
    "enable_effects": true,
    "background_color": [255, 255, 255],
    "brush_color": [0, 0, 0],
    "trajectory_color": [128, 128, 128],
    "progress_color": [255, 0, 0],
    "font_size": 24,
    "font_path": null,
    "parallel_rendering": false,
    "memory_limit": 2048,
    "temp_dir": "./temp",
    "enable_hair_rendering": true,
    "enable_ink_diffusion": true,
    "enable_paper_texture": true
  },
  "performance": {
    "enable_profiling": true,
    "enable_monitoring": true,
    "max_memory_usage": "4GB",
    "parallel_processing": true,
    "num_threads": 4
  },
  "logging": {
    "level": "INFO",
    "save_to_file": true,
    "log_file": "logs/animation_builder.log",
    "max_file_size": "10MB",
    "backup_count": 5
  },
  "timeline": {
    "default_speed": 1.0,
    "loop": false,
    "auto_pause_on_stroke": false,
    "smooth_seeking": true,
    "buffer_size": 1.0,
    "sync_tolerance": 0.1,
    "sync_enabled": true
  },
  "brush": {
    "radius": 10.0,
    "hair_count": 50,
    "hair_length": 15.0,
    "hair_stiffness": 0.3,
    "hair_variation": 0.2
  },
  "ink": {
    "viscosity": 0.8,
    "absorption_rate": 0.1,
    "diffusion_rate": 0.05,
    "capacity": 1.0
  },
  "paper": {
    "roughness": 0.1,
    "absorption": 0.3,
    "fiber_density": 0.5
  },
  "physics": {
    "gravity": 9.8,
    "air_resistance": 0.1,
    "surface_tension": 0.07
  },
  "output_dir": "./output"
}